C51 COMPILER V9.60.0.0   DISPLAY_LIUGUANG                                                  09/23/2022 11:52:51 PAGE 1   


C51 COMPILER V9.60.0.0, COMPILATION OF MODULE DISPLAY_LIUGUANG
OBJECT MODULE PLACED IN .\output\Display_LiuGuang.obj
COMPILER INVOKED BY: C:\Keil_v5\C51\BIN\C51.EXE src\Display_LiuGuang.c LARGE WARNINGLEVEL(0) OPTIMIZE(8,SPEED) BROWSE DE
                    -BUG OBJECTEXTEND PRINT(.\Listings\Display_LiuGuang.lst) OBJECT(.\output\Display_LiuGuang.obj)

line level    source

   1          #include "..\include\SH68F90.h"
   2          #include "..\include\stdtype.h"
   3          #include "..\include\mcu_def.h"
   4          #include "..\include\pwm_control.h"
   5          #include ".\include\Auser.h"
   6          #include "..\include\CFG.h"
   7          #include <intrins.h>
   8          #include <string.h>
   9          
  10          U8 xdata        NUM_Image[3][126];
  11          U8 xdata Temp_RR;
  12          U8 xdata Temp_GG;
  13          U8 xdata Temp_BB;
  14          code const U8 XuanZhuan_Data1[]={70,49,50,28,29,30,6,7,8,9,};
  15          code const U8 XuanZhuan_Data2[]={69,47,48,25,26,27,3,4,5,};
  16          code const U8 XuanZhuan_Data3[]={68,46,21,22,23,24,0,1,2,};
  17          code const U8 XuanZhuan_Data4[]={66,67,42,43,44,45,46,};
  18          code const U8 XuanZhuan_Data5[]={63,64,65,};
  19          code const U8 XuanZhuan_Data6[]={84,85,105,};
  20          code const U8 XuanZhuan_Data7[]={86,87,106,107,};
  21          code const U8 XuanZhuan_Data8[]={       88,89,90,108,109,110,111,};
  22          code const U8 XuanZhuan_Data9[]={       91,92,112,113,};
  23          code const U8 XuanZhuan_Data10[]={      93,114,115,116,117,118,119,120,121,122,123,124,125,};
  24          code const U8 XuanZhuan_Data11[]={      94,95,96,97,98,99,100,101,102,103,104,};
  25          code const U8 XuanZhuan_Data12[]={      73,74,75,76,77,78,79,80,81,82,83,};
  26          code const U8 XuanZhuan_Data13[]={      72,52,53,54,55,56,57,58,59,60,51,52,};
  27          code const U8 XuanZhuan_Data14[]={      71,51,31,32,33,34,35,36,37,38,39,40,41,10,11,12,13,14,15,16,17,18,19,20
             -,};
  28          //**********************************
  29          code const U8 LiuGuang6_Data1[]={28,29,50,70,69,48,49,};
  30          code const U8 LiuGuang6_Data2[]={5,6,7,8,9,26,27,46,47,67,71,68,88,89,90,91,110,111,30,31,51,52,72,73,92,9
             -3,112,113};
  31          code const U8 LiuGuang6_Data3[]={3,4,23,24,25,44,45,65,66,85,86,87,108,109,10,11,12,32,33,34,53,54,55,74,7
             -5,76,94,95,96,114,115,116,};
  32          code const U8 LiuGuang6_Data4[]={0,1,2,21,22,42,43,63,64,84,85,105,106,107,13,14,15,16,35,36,37,56,57,58,7
             -7,78,79,97,98,99,100,117,118,119,120,121,};
  33          code const U8 LiuGuang6_Data5[]={17,18,19,20,38,39,40,41,59,60,61,62,80,81,82,83,80,81,82,83,101,102,103,1
             -04,122,123,124,125,};
  34          //************************************
  35          code const U8 breathe_mode_tab_G[240]=  
  36          {
  37                  0,      1,      2,      3,              4,      5,      6,      7,              8,      9,      10,     12,             //0                     
  38                  14,     16,     18,     20,             22,     24,     27,     30,             33,     36,     39,     42,             //12    
  39                  45,     48,     51,     54,             57,     60,     63,     66,             69,     72,     75,     78,             //24
  40                  82,85,  88,     91,             94,     98,     102,106,        110,114,118,122,        //36
  41                  126,130,134,138,        142,146,150,154,        158,162,166,170,        //48            
  42                  174,178,182,186,        190,194,198,202,        206,210,214,218,        //60
  43                  222,226,230,234,        238,242,244,246,        248,250,252,254,        //72
  44                  
  45                  254,252,250,248,        246,244,242,238,        234,230,226,222,        //84
  46                  218,214,210,206,        202,198,194,190,        186,182,178,174,        //96
  47                  170,166,162,158,        154,150,146,142,        138,134,130,126,        //108
  48                  122,118,114,110,        106,102,98,94,  91,88,85,82,            //120   
  49                  78,75,72,69,            66,63,60,57,            54,51,48,45,            //132
C51 COMPILER V9.60.0.0   DISPLAY_LIUGUANG                                                  09/23/2022 11:52:51 PAGE 2   

  50                  42,     39,     36,     33,             30,     27,     24,     22,             20,     18,     16,     14,             //144
  51                  12,     10,     9,      8,              7,      6,      5,      4,              3,      2,      1,      0,              //156
  52                  
  53                  0,0,0,0,                0,0,0,0,                0,0,0,0,//168
  54                  0,0,0,0,                0,0,0,0,                0,0,0,0,//192
  55                  0,0,0,0,                0,0,0,0,                0,0,0,0,//204
  56                  0,0,0,0,                0,0,0,0,                0,0,0,0,//216
  57                  0,0,0,0,                0,0,0,0,                0,0,0,0,//228
  58                  0,0,0,0,                0,0,0,0,                0,0,0,0,//240
  59                  
  60          };
  61          U8 JianbianSub2(U8 LedStage2)
  62          {
  63   1              switch(LedStage2)
  64   1                      {
  65   2                              case 0: 
  66   2                                      Temp_RR=0;
  67   2                                      Temp_GG++;
  68   2                                      Temp_BB = 0;
  69   2                                      if(Temp_GG >254)
  70   2                                      {       
  71   3                                              LedStage2++;
  72   3                                      }
  73   2                              break;
  74   2                              //--------------------------------
  75   2                              case 1:
  76   2                                      Temp_RR++;
  77   2                                      Temp_GG--;
  78   2                                      Temp_BB=0;
  79   2                                      if(Temp_GG==0)
  80   2                                              LedStage2++;
  81   2                              break;
  82   2                              case 2:
  83   2                                      Temp_GG=0;
  84   2                                      Temp_RR--;
  85   2                                      Temp_BB++;
  86   2                                      if(Temp_RR == 0)
  87   2                                              LedStage2++;
  88   2                              break;          
  89   2                              case 3:
  90   2                                      Temp_RR=0;
  91   2                                      Temp_GG++;
  92   2                                      Temp_BB--;
  93   2                                      if(Temp_BB == 0)
  94   2                                              LedStage2=1;
  95   2                              break;  
  96   2                      } 
  97   1              return  LedStage2;
  98   1      }
  99          //**********************************
 100          void Int_Mode6_Data(void)
 101          {
 102   1              U8 i,j;
 103   1              U16 randtmp;
 104   1              for(i=0; i<126; i++)
 105   1              {
 106   2                      NUM_Image[0][i]=NUM_Image[1][i]=NUM_Image[2][i]=0;
 107   2              }
 108   1              if(b_LiuGuang_Mode2|b_LiuGuang_Mode3|b_LiuGuang_Mode4|b_LiuGuang_Mode6|b_LiuGuang_Mode5|b_LiuGuang_Mode7)
 109   1              {       
 110   2                      if(Color_Times==1)
 111   2                      {
C51 COMPILER V9.60.0.0   DISPLAY_LIUGUANG                                                  09/23/2022 11:52:51 PAGE 3   

 112   3                              R_Color=255;
 113   3                              G_Color=B_Color=0;
 114   3                      }       
 115   2                      else if(Color_Times==2)
 116   2                      {
 117   3                              G_Color=R_Color=255;
 118   3                              B_Color=0;
 119   3                      }
 120   2                      else if(Color_Times==3)
 121   2                      {
 122   3                              G_Color=255;
 123   3                              B_Color=R_Color=0;
 124   3                      }
 125   2                      else if(Color_Times==4)
 126   2                      {
 127   3                              B_Color=255;
 128   3                              G_Color=R_Color=0;
 129   3                      }
 130   2                      else if(Color_Times==5)
 131   2                      {
 132   3                              G_Color=B_Color=255;
 133   3                              R_Color=0;
 134   3                      }
 135   2                      else if(Color_Times==6)
 136   2                      {
 137   3                              R_Color=B_Color=255;
 138   3                              G_Color=0;
 139   3                      }
 140   2                      else if(Color_Times==7)
 141   2                      {
 142   3                              G_Color=R_Color=B_Color=255;
 143   3                      }
 144   2              }
 145   1              if(b_LiuGuang_Mode2)    //6
 146   1              {
 147   2                              for(i=0; i<6; i++)
 148   2                              {
 149   3                              NUM_Image[R][20+i*21]=0;        NUM_Image[G][20+i*21]=84;       NUM_Image[B][20+i*21]=168;                        
 150   3                              NUM_Image[R][19+i*21]=12;       NUM_Image[G][19+i*21]=96;       NUM_Image[B][19+i*21]=180;      
 151   3                              NUM_Image[R][18+i*21]=24;       NUM_Image[G][18+i*21]=108;NUM_Image[B][18+i*21]=192;    
 152   3                              NUM_Image[R][17+i*21]=36;       NUM_Image[G][17+i*21]=120;NUM_Image[B][17+i*21]=204;   
 153   3                              NUM_Image[R][16+i*21]=48;       NUM_Image[G][16+i*21]=132;NUM_Image[B][16+i*21]=216;   
 154   3                              NUM_Image[R][15+i*21]=60;       NUM_Image[G][15+i*21]=144;NUM_Image[B][15+i*21]=228;   
 155   3                              NUM_Image[R][14+i*21]=72;       NUM_Image[G][14+i*21]=156;NUM_Image[B][14+i*21]=240;   
 156   3                                                                                      
 157   3                              NUM_Image[R][13+i*21]=84;       NUM_Image[G][13+i*21]=168;NUM_Image[B][13+i*21]=0;      
 158   3                              NUM_Image[R][12+i*21]=96;       NUM_Image[G][12+i*21]=180;NUM_Image[B][12+i*21]=12;     
 159   3                              NUM_Image[R][11+i*21]=108;      NUM_Image[G][11+i*21]=192;NUM_Image[B][11+i*21]=24;             
 160   3                              NUM_Image[R][10+i*21]=120;      NUM_Image[G][10+i*21]=204;NUM_Image[B][10+i*21]=36;  
 161   3                              NUM_Image[R][9+i*21]=132;       NUM_Image[G][9+i*21]=216;       NUM_Image[B][9+i*21]=48;   
 162   3                              NUM_Image[R][8+i*21]=144;       NUM_Image[G][8+i*21]=228;       NUM_Image[B][8+i*21]=60;   
 163   3                              NUM_Image[R][7+i*21]=156;       NUM_Image[G][7+i*21]=240;       NUM_Image[B][7+i*21]=72;   
 164   3                                                                                                                                                         
 165   3                              NUM_Image[R][6+i*21]=168;       NUM_Image[G][6+i*21]=0; NUM_Image[B][6+i*21]=84;        
 166   3                              NUM_Image[R][5+i*21]=180;       NUM_Image[G][5+i*21]=12;        NUM_Image[B][5+i*21]=96;        
 167   3                              NUM_Image[R][4+i*21]=192;       NUM_Image[G][4+i*21]=24;        NUM_Image[B][4+i*21]=108;       
 168   3                              NUM_Image[R][3+i*21]=204;       NUM_Image[G][3+i*21]=36;        NUM_Image[B][3+i*21]=120;   
 169   3                              NUM_Image[R][2+i*21]=216;       NUM_Image[G][2+i*21]=48;        NUM_Image[B][2+i*21]=132;   
 170   3                              NUM_Image[R][1+i*21]=228;       NUM_Image[G][1+i*21]=60;        NUM_Image[B][1+i*21]=144;   
 171   3                              NUM_Image[R][0+i*21]=240;       NUM_Image[G][0+i*21]=72;        NUM_Image[B][0+i*21]=156;   
 172   3                              }
 173   2              }       
C51 COMPILER V9.60.0.0   DISPLAY_LIUGUANG                                                  09/23/2022 11:52:51 PAGE 4   

 174   1              else if(b_LiuGuang_Mode3)//彩虹轮盘  没有颜色调整
 175   1              {
 176   2                      for(i=0; i<sizeof(XuanZhuan_Data1); i++)
 177   2                      {
 178   3                              NUM_Image[R][XuanZhuan_Data1[i]]=0;
 179   3                              NUM_Image[G][XuanZhuan_Data1[i]]=84;
 180   3                              NUM_Image[B][XuanZhuan_Data1[i]]=168;
 181   3                      }
 182   2                      for(i=0; i<sizeof(XuanZhuan_Data2); i++)
 183   2                      {
 184   3                              NUM_Image[R][XuanZhuan_Data2[i]]=17;
 185   3                              NUM_Image[G][XuanZhuan_Data2[i]]=101;
 186   3                              NUM_Image[B][XuanZhuan_Data2[i]]=185;
 187   3                      }       
 188   2                      for(i=0; i<sizeof(XuanZhuan_Data3); i++)
 189   2                      {
 190   3                              NUM_Image[R][XuanZhuan_Data3[i]]=34;
 191   3                              NUM_Image[G][XuanZhuan_Data3[i]]=51;
 192   3                              NUM_Image[B][XuanZhuan_Data3[i]]=202;
 193   3                      }       
 194   2                      for(i=0; i<sizeof(XuanZhuan_Data4); i++)
 195   2                      {
 196   3                              NUM_Image[R][XuanZhuan_Data4[i]]=51;
 197   3                              NUM_Image[G][XuanZhuan_Data4[i]]=135;
 198   3                              NUM_Image[B][XuanZhuan_Data4[i]]=219;
 199   3                      }
 200   2                      for(i=0; i<sizeof(XuanZhuan_Data5); i++)
 201   2                      {       
 202   3                              NUM_Image[R][XuanZhuan_Data5[i]]=68;
 203   3                              NUM_Image[G][XuanZhuan_Data5[i]]=152;
 204   3                              NUM_Image[B][XuanZhuan_Data5[i]]=236;
 205   3                      }
 206   2                      for(i=0; i<sizeof(XuanZhuan_Data6); i++)
 207   2                      {
 208   3                              NUM_Image[R][XuanZhuan_Data6[i]]=85;
 209   3                              NUM_Image[G][XuanZhuan_Data6[i]]=169;
 210   3                              NUM_Image[B][XuanZhuan_Data6[i]]=13;
 211   3                      }
 212   2                      for(i=0; i<sizeof(XuanZhuan_Data7); i++)
 213   2                      {
 214   3                              NUM_Image[R][XuanZhuan_Data7[i]]=102;
 215   3                              NUM_Image[G][XuanZhuan_Data7[i]]=186;
 216   3                              NUM_Image[B][XuanZhuan_Data7[i]]=30;
 217   3                      }
 218   2                      for(i=0; i<sizeof(XuanZhuan_Data8); i++)
 219   2                      {       
 220   3                              NUM_Image[R][XuanZhuan_Data8[i]]=119;
 221   3                              NUM_Image[G][XuanZhuan_Data8[i]]=203;
 222   3                              NUM_Image[B][XuanZhuan_Data8[i]]=47;
 223   3                      }
 224   2                      for(i=0; i<sizeof(XuanZhuan_Data9); i++)
 225   2                      {
 226   3                              NUM_Image[R][XuanZhuan_Data9[i]]=136;
 227   3                              NUM_Image[G][XuanZhuan_Data9[i]]=220;
 228   3                              NUM_Image[B][XuanZhuan_Data9[i]]=64;
 229   3                      }
 230   2                      for(i=0; i<sizeof(XuanZhuan_Data10); i++)
 231   2                      {
 232   3                              NUM_Image[R][XuanZhuan_Data10[i]]=153;
 233   3                              NUM_Image[G][XuanZhuan_Data10[i]]=237;
 234   3                              NUM_Image[B][XuanZhuan_Data10[i]]=81;
 235   3                      }       
C51 COMPILER V9.60.0.0   DISPLAY_LIUGUANG                                                  09/23/2022 11:52:51 PAGE 5   

 236   2                      for(i=0; i<sizeof(XuanZhuan_Data11); i++)
 237   2                      {
 238   3                              NUM_Image[R][XuanZhuan_Data11[i]]=170;
 239   3                              NUM_Image[G][XuanZhuan_Data11[i]]=14;
 240   3                              NUM_Image[B][XuanZhuan_Data11[i]]=98;
 241   3                      }       
 242   2                      for(i=0; i<sizeof(XuanZhuan_Data12); i++)
 243   2                      {
 244   3                              NUM_Image[R][XuanZhuan_Data12[i]]=187;
 245   3                              NUM_Image[G][XuanZhuan_Data12[i]]=31;
 246   3                              NUM_Image[B][XuanZhuan_Data12[i]]=115;
 247   3                      }       
 248   2                      for(i=0; i<sizeof(XuanZhuan_Data13); i++)
 249   2                      {
 250   3                              NUM_Image[R][XuanZhuan_Data13[i]]=204;
 251   3                              NUM_Image[G][XuanZhuan_Data13[i]]=48;
 252   3                              NUM_Image[B][XuanZhuan_Data13[i]]=132;
 253   3                      }       
 254   2                      for(i=0; i<sizeof(XuanZhuan_Data14); i++)
 255   2                      {
 256   3                              NUM_Image[R][XuanZhuan_Data14[i]]=221;
 257   3                              NUM_Image[G][XuanZhuan_Data14[i]]=65;
 258   3                              NUM_Image[B][XuanZhuan_Data14[i]]=149;
 259   3                      }       
 260   2              }       
 261   1              else if(b_LiuGuang_Mode4)       
 262   1              {
 263   2                      for(i=0; i<21; i++)
 264   2                      {
 265   3                              NUM_Image[R][105+i]=0;                    
 266   3                              NUM_Image[R][84+i]=14;  
 267   3                              NUM_Image[R][63+i]=28;  
 268   3                              NUM_Image[R][42+i]=32;  
 269   3                              NUM_Image[R][21+i]=46;  
 270   3                              NUM_Image[R][0+i]=60;   
 271   3                                      
 272   3                              NUM_Image[G][105+i]=74;                   
 273   3                              NUM_Image[G][84+i]=88;  
 274   3                              NUM_Image[G][63+i]=102; 
 275   3                              NUM_Image[G][42+i]=116; 
 276   3                              NUM_Image[G][21+i]=130; 
 277   3                              NUM_Image[G][0+i]=144;  
 278   3                              
 279   3                              NUM_Image[B][105+i]=158;                          
 280   3                              NUM_Image[B][84+i]=172; 
 281   3                              NUM_Image[B][63+i]=186; 
 282   3                              NUM_Image[B][42+i]=200; 
 283   3                              NUM_Image[B][21+i]=214; 
 284   3                              NUM_Image[B][0+i]=228;  
 285   3                      }
 286   2              }       
 287   1              else if(b_LiuGuang_Mode6)
 288   1              {
 289   2                      for(i=0; i<sizeof(LiuGuang6_Data5); i++)
 290   2                      {
 291   3                              NUM_Image[B][LiuGuang6_Data5[i]]=72;
 292   3                              NUM_Image[G][LiuGuang6_Data5[i]]=156;
 293   3                              NUM_Image[R][LiuGuang6_Data5[i]]=240;
 294   3                      }
 295   2                      for(i=0; i<sizeof(LiuGuang6_Data4); i++)
 296   2                      {
 297   3                              NUM_Image[B][LiuGuang6_Data4[i]]=96;
C51 COMPILER V9.60.0.0   DISPLAY_LIUGUANG                                                  09/23/2022 11:52:51 PAGE 6   

 298   3                              NUM_Image[G][LiuGuang6_Data4[i]]=192;
 299   3                              NUM_Image[R][LiuGuang6_Data4[i]]=12;
 300   3                      }       
 301   2                      for(i=0; i<sizeof(LiuGuang6_Data3); i++)
 302   2                      {
 303   3                              NUM_Image[B][LiuGuang6_Data3[i]]=120;
 304   3                              NUM_Image[G][LiuGuang6_Data3[i]]=216;
 305   3                              NUM_Image[R][LiuGuang6_Data3[i]]=36;
 306   3                      }       
 307   2                      for(i=0; i<sizeof(LiuGuang6_Data2); i++)
 308   2                      {
 309   3                              NUM_Image[B][LiuGuang6_Data2[i]]=144;
 310   3                              NUM_Image[G][LiuGuang6_Data2[i]]=228;
 311   3                              NUM_Image[R][LiuGuang6_Data2[i]]=60;
 312   3                      }
 313   2                      for(i=0; i<sizeof(LiuGuang6_Data1); i++)
 314   2                      {       
 315   3                              NUM_Image[B][LiuGuang6_Data1[i]]=168;
 316   3                              NUM_Image[G][LiuGuang6_Data1[i]]=0;
 317   3                              NUM_Image[R][LiuGuang6_Data1[i]]=84;
 318   3                      }
 319   2              }       
 320   1              else if(b_LiuGuang_Mode5)//两层流动
 321   1              {
 322   2                      for(i=0; i<6; i++)
 323   2                      {
 324   3                              if(i&0x01)
 325   3                              {
 326   4                              NUM_Image[R][20+i*21]=0;        NUM_Image[G][20+i*21]=84;       NUM_Image[B][20+i*21]=168;                        
 327   4                              NUM_Image[R][19+i*21]=12;       NUM_Image[G][19+i*21]=96;       NUM_Image[B][19+i*21]=180;      
 328   4                              NUM_Image[R][18+i*21]=24;       NUM_Image[G][18+i*21]=108;NUM_Image[B][18+i*21]=192;    
 329   4                              NUM_Image[R][17+i*21]=36;       NUM_Image[G][17+i*21]=120;NUM_Image[B][17+i*21]=204;   
 330   4                              NUM_Image[R][16+i*21]=48;       NUM_Image[G][16+i*21]=132;NUM_Image[B][16+i*21]=216;   
 331   4                              NUM_Image[R][15+i*21]=60;       NUM_Image[G][15+i*21]=144;NUM_Image[B][15+i*21]=228;   
 332   4                              NUM_Image[R][14+i*21]=72;       NUM_Image[G][14+i*21]=156;NUM_Image[B][14+i*21]=240;   
 333   4                                                                                      
 334   4                              NUM_Image[R][13+i*21]=84;       NUM_Image[G][13+i*21]=168;NUM_Image[B][13+i*21]=0;      
 335   4                              NUM_Image[R][12+i*21]=96;       NUM_Image[G][12+i*21]=180;NUM_Image[B][12+i*21]=12;     
 336   4                              NUM_Image[R][11+i*21]=108;      NUM_Image[G][11+i*21]=192;NUM_Image[B][11+i*21]=24;             
 337   4                              NUM_Image[R][10+i*21]=120;      NUM_Image[G][10+i*21]=204;NUM_Image[B][10+i*21]=36;  
 338   4                              NUM_Image[R][9+i*21]=132;       NUM_Image[G][9+i*21]=216;       NUM_Image[B][9+i*21]=48;   
 339   4                              NUM_Image[R][8+i*21]=144;       NUM_Image[G][8+i*21]=228;       NUM_Image[B][8+i*21]=60;   
 340   4                              NUM_Image[R][7+i*21]=156;       NUM_Image[G][7+i*21]=240;       NUM_Image[B][7+i*21]=72;   
 341   4                                                                                                                                                         
 342   4                              NUM_Image[R][6+i*21]=168;       NUM_Image[G][6+i*21]=0; NUM_Image[B][6+i*21]=84;        
 343   4                              NUM_Image[R][5+i*21]=180;       NUM_Image[G][5+i*21]=12;        NUM_Image[B][5+i*21]=96;        
 344   4                              NUM_Image[R][4+i*21]=192;       NUM_Image[G][4+i*21]=24;        NUM_Image[B][4+i*21]=108;       
 345   4                              NUM_Image[R][3+i*21]=204;       NUM_Image[G][3+i*21]=36;        NUM_Image[B][3+i*21]=120;   
 346   4                              NUM_Image[R][2+i*21]=216;       NUM_Image[G][2+i*21]=48;        NUM_Image[B][2+i*21]=132;   
 347   4                              NUM_Image[R][1+i*21]=228;       NUM_Image[G][1+i*21]=60;        NUM_Image[B][1+i*21]=144;   
 348   4                              NUM_Image[R][0+i*21]=240;       NUM_Image[G][0+i*21]=72;        NUM_Image[B][0+i*21]=156;   
 349   4                              }
 350   3                              else
 351   3                              {
 352   4                              NUM_Image[R][0+i*21]=0;         NUM_Image[G][0+i*21]=84;        NUM_Image[B][0+i*21]=168;                         
 353   4                              NUM_Image[R][1+i*21]=12;        NUM_Image[G][1+i*21]=96;        NUM_Image[B][1+i*21]=180;       
 354   4                              NUM_Image[R][2+i*21]=24;        NUM_Image[G][2+i*21]=108;NUM_Image[B][2+i*21]=192;      
 355   4                              NUM_Image[R][3+i*21]=36;        NUM_Image[G][3+i*21]=120;NUM_Image[B][3+i*21]=204;   
 356   4                              NUM_Image[R][4+i*21]=48;        NUM_Image[G][4+i*21]=132;NUM_Image[B][4+i*21]=216;   
 357   4                              NUM_Image[R][5+i*21]=60;        NUM_Image[G][5+i*21]=144;NUM_Image[B][5+i*21]=228;   
 358   4                              NUM_Image[R][6+i*21]=72;        NUM_Image[G][6+i*21]=156;NUM_Image[B][6+i*21]=240;   
 359   4                                                                                      
C51 COMPILER V9.60.0.0   DISPLAY_LIUGUANG                                                  09/23/2022 11:52:51 PAGE 7   

 360   4                              NUM_Image[R][7+i*21]=84;        NUM_Image[G][7+i*21]=168;NUM_Image[B][7+i*21]=0;        
 361   4                              NUM_Image[R][8+i*21]=96;        NUM_Image[G][8+i*21]=180;NUM_Image[B][8+i*21]=12;       
 362   4                              NUM_Image[R][9+i*21]=108;       NUM_Image[G][9+i*21]=192;NUM_Image[B][9+i*21]=24;               
 363   4                              NUM_Image[R][10+i*21]=120;      NUM_Image[G][10+i*21]=204;NUM_Image[B][10+i*21]=36;  
 364   4                              NUM_Image[R][11+i*21]=132;      NUM_Image[G][11+i*21]=216;      NUM_Image[B][11+i*21]=48;   
 365   4                              NUM_Image[R][12+i*21]=144;      NUM_Image[G][12+i*21]=228;      NUM_Image[B][12+i*21]=60;   
 366   4                              NUM_Image[R][13+i*21]=156;      NUM_Image[G][13+i*21]=240;      NUM_Image[B][13+i*21]=72;   
 367   4                                                                                                                                                         
 368   4                              NUM_Image[R][14+i*21]=168;      NUM_Image[G][14+i*21]=0;        NUM_Image[B][14+i*21]=84;       
 369   4                              NUM_Image[R][15+i*21]=180;      NUM_Image[G][15+i*21]=12;       NUM_Image[B][15+i*21]=96;       
 370   4                              NUM_Image[R][16+i*21]=192;      NUM_Image[G][16+i*21]=24;       NUM_Image[B][16+i*21]=108;      
 371   4                              NUM_Image[R][17+i*21]=204;      NUM_Image[G][17+i*21]=36;       NUM_Image[B][17+i*21]=120;   
 372   4                              NUM_Image[R][18+i*21]=216;      NUM_Image[G][18+i*21]=48;       NUM_Image[B][18+i*21]=132;   
 373   4                              NUM_Image[R][19+i*21]=228;      NUM_Image[G][19+i*21]=60;       NUM_Image[B][19+i*21]=144;   
 374   4                              NUM_Image[R][20+i*21]=240;      NUM_Image[G][20+i*21]=72;       NUM_Image[B][20+i*21]=156;   
 375   4                              }
 376   3                      }       
 377   2              }
 378   1              else if(b_LiuGuang_Mode7)//随机霓虹
 379   1              {
 380   2                      for(i=0; i<126; i++)
 381   2                      {
 382   3                              randtmp=RandSub(j);
 383   3                              randtmp=randtmp%240;    
 384   3                              NUM_Image[R][i]=240-randtmp;
 385   3                              NUM_Image[G][i]=240-randtmp+84;
 386   3                              NUM_Image[B][i]=240-randtmp+168;
 387   3                      }
 388   2              }       
 389   1      }
 390          void Start_Mode6_Led(void)
 391          {
 392   1              U8 i,j,n,y,k;
 393   1              if(b_LiuGuang_Mode)     //霓虹
 394   1              {
 395   2                      Temp_Speed++;
 396   2                      if(Temp_Speed<Speed_Data)
 397   2                              return;
 398   2                      Temp_Speed=0;
 399   2                              NUM_Image[0][0]=JianbianSub2(NUM_Image[0][0]);
 400   2                              NUM_Image[0][0]=JianbianSub2(NUM_Image[0][0]);
 401   2                              NUM_Image[0][0]=JianbianSub2(NUM_Image[0][0]);
 402   2                              for(i=0; i<126; i++)
 403   2                              {
 404   3                                      if(Brack_b(i))
 405   3                                      {       
 406   4                                              Image[0][i]=Temp_RR*Brightness_Wheels/5*4+PWM_AddData(0,i);
 407   4                                              Image[1][i]=Temp_GG*Brightness_Wheels/5*4+PWM_AddData(1,i);
 408   4                                              Image[2][i]=Temp_BB*Brightness_Wheels/5*4+PWM_AddData(2,i);
 409   4                                      }
 410   3                              }
 411   2              }
 412   1              else if(b_LiuGuang_Mode2|b_LiuGuang_Mode3|b_LiuGuang_Mode4|b_LiuGuang_Mode6|b_LiuGuang_Mode5|b_LiuGuang_M
             -ode7)//彩虹轮盘
 413   1              {
 414   2                      Temp_Speed++;
 415   2                      if(Temp_Speed<Speed_Data)
 416   2                              return;
 417   2                      Temp_Speed=0;
 418   2                      if(Color_Times==8)
 419   2                      {       
 420   3                              for(i=0; i<126; i++)
C51 COMPILER V9.60.0.0   DISPLAY_LIUGUANG                                                  09/23/2022 11:52:51 PAGE 8   

 421   3                              {
 422   4                                      if(Brack_b(i))
 423   4                                      {       
 424   5                                      Image[0][i]=breathe_mode_tab_G[NUM_Image[0][i]]*Brightness_Wheels/5*4+PWM_AddData(0,i);
 425   5                                      Image[1][i]=breathe_mode_tab_G[NUM_Image[1][i]]*Brightness_Wheels/5*4+PWM_AddData(1,i);
 426   5                                      Image[2][i]=breathe_mode_tab_G[NUM_Image[2][i]]*Brightness_Wheels/5*4+PWM_AddData(2,i);
 427   5                                      }
 428   4                                      NUM_Image[0][i]++;
 429   4                                      if(NUM_Image[0][i]>239)
 430   4                                              NUM_Image[0][i]=0;
 431   4                                              
 432   4                                              NUM_Image[1][i]++;
 433   4                                      if(NUM_Image[1][i]>239)
 434   4                                              NUM_Image[1][i]=0;
 435   4                                              
 436   4                                              NUM_Image[2][i]++;
 437   4                                      if(NUM_Image[2][i]>239)
 438   4                                              NUM_Image[2][i]=0;
 439   4                                              
 440   4                                      NUM_Image[0][i]++;
 441   4                                      if(NUM_Image[0][i]>239)
 442   4                                              NUM_Image[0][i]=0;
 443   4                                              
 444   4                                              NUM_Image[1][i]++;
 445   4                                      if(NUM_Image[1][i]>239)
 446   4                                              NUM_Image[1][i]=0;
 447   4                                              
 448   4                                              NUM_Image[2][i]++;
 449   4                                      if(NUM_Image[2][i]>239)
 450   4                                              NUM_Image[2][i]=0;      
 451   4                                              
 452   4                              }
 453   3                      }
 454   2                      else
 455   2                      {       
 456   3                              for(i=0; i<126; i++)
 457   3                              {
 458   4                                      if(Brack_b(i))
 459   4                                      {       
 460   5                                      Image[0][i]=R_Color*breathe_mode_tab_G[NUM_Image[0][i]]/255*Brightness_Wheels/5*4+PWM_AddData(0,i);
 461   5                                      Image[1][i]=G_Color*breathe_mode_tab_G[NUM_Image[0][i]]/255*Brightness_Wheels/5*4+PWM_AddData(1,i);
 462   5                                      Image[2][i]=B_Color*breathe_mode_tab_G[NUM_Image[0][i]]/255*Brightness_Wheels/5*4+PWM_AddData(2,i);
 463   5                                      }
 464   4                                      NUM_Image[0][i]++;
 465   4                                      if(NUM_Image[0][i]>239)
 466   4                                              NUM_Image[0][i]=0;
 467   4                                              
 468   4                                      NUM_Image[0][i]++;
 469   4                                      if(NUM_Image[0][i]>239)
 470   4                                              NUM_Image[0][i]=0;
 471   4                              }
 472   3                      }
 473   2              }       
 474   1      }
 475          //*************huxi*********************
 476          code const U8 breathe_mode_tab3[128+20]=
 477          {
 478                  0,      0,      0,      0,      0,      0,      0,      0,      0,      0,
 479                  0,              1,              2,              3,              4,              5,              6,              7,
 480                  8,              9,              10,             12,             14,             16,             18,             20,
 481                  22,             24,             27,             30,             33,             36,             39,             42,
 482                  45,             49,             53,             57,             61,             65,             69,             73,
C51 COMPILER V9.60.0.0   DISPLAY_LIUGUANG                                                  09/23/2022 11:52:51 PAGE 9   

 483                  77,             81,             85,             89,             94,             99,             104,    109,
 484                  114,    119,    124,    129,    134,    140,    146,    152,
 485                  158,    164,    170,    176,    182,    188,    194,    200,
 486                  206,    213,    220,    227,    234,    241,    248,    255,
 487                  
 488                  255,    248,    241,    234,    227,    220,    213,    206,
 489                  200,    194,    188,    182,    176,    170,    164,    158,
 490                  152,    146,    140,    134,    129,    124,    119,    114,
 491                  109,    104,    99,             94,             89,             85,             81,             77,
 492                  73,             69,             65,             61,             57,             53,             49,             45,
 493                  42,             39,             36,             33,             30,             27,             24,             22,
 494                  20,             18,             16,             14,             12,             10,             9,              8,
 495                  7,              6,              5,              4,              3,              2,              1,              0,      
 496                  0,      0,      0,      0,      0,      0,      0,      0,      0,      0,
 497          };
 498          void Start_PWM_Led(void)//呼吸模式
 499          {
 500   1              U8 i,j,n;
 501   1              U16 y;
 502   1              if(!b_HuXi_Mode)
 503   1                      return;
 504   1              //----------------------------------    
 505   1              //------------------------------------                  
 506   1              Temp_Speed++;
 507   1              if(Temp_Speed>Speed_Data+1)
 508   1              {
 509   2                      Temp_Speed=0;   
 510   2                      
 511   2                      j=breathe_mode_tab3[Run_Time];
 512   2                      y=j*Brightness_Wheels;
 513   2                      Run_Time++;
 514   2                      if(Run_Time>147)
 515   2                      Run_Time=0;     
 516   2                      for(i=0; i<126; i++)
 517   2                      {
 518   3                              if(Color_Times==0)
 519   3                              {
 520   4                                      if(Brack_b(i))
 521   4                                      {       
 522   5                                      Image[0][i]=R_Color*j/255*Brightness_Wheels+PWM_AddData(0,i);
 523   5                                      Image[1][i]=G_Color*j/255*Brightness_Wheels+PWM_AddData(1,i);
 524   5                                      Image[2][i]=B_Color*j/255*Brightness_Wheels+PWM_AddData(2,i);   
 525   5                                      }
 526   4                              }       
 527   3                              else if(Color_Times==8)
 528   3                              {
 529   4                                      Image[0][i]=PWM_AddData(0,i);
 530   4                                      Image[1][i]=PWM_AddData(1,i);
 531   4                                      Image[2][i]=PWM_AddData(2,i);
 532   4                                      n=i%5;
 533   4                                      if(Brack_b(i))
 534   4                                      {
 535   5                                              if(n==0)
 536   5                                                              Image[0][i]=y+PWM_AddData(0,i);
 537   5                                              else if(n==1)
 538   5                                                              Image[1][i]=y+PWM_AddData(0,i);
 539   5                                              else if(n==2)
 540   5                                                              Image[2][i]=y+PWM_AddData(0,i);
 541   5                                              else if(n==3)
 542   5                                              {       
 543   6                                                      Image[0][i]=y+PWM_AddData(0,i);
 544   6                                                      Image[1][i]=y+PWM_AddData(1,i);
C51 COMPILER V9.60.0.0   DISPLAY_LIUGUANG                                                  09/23/2022 11:52:51 PAGE 10  

 545   6                                              }
 546   5                                              else if(n==4)
 547   5                                              {       
 548   6                                                      Image[2][i]=y+PWM_AddData(2,i);
 549   6                                                      Image[1][i]=y+PWM_AddData(1,i);;
 550   6                                              }
 551   5                                              else if(n==5)
 552   5                                              {       
 553   6                                                      Image[2][i]=y+PWM_AddData(2,i);
 554   6                                                      Image[0][i]=y+PWM_AddData(0,i);
 555   6                                              }
 556   5                                      }               
 557   4                              }
 558   3                              else
 559   3                              {       
 560   4                                      if(Brack_b(i))
 561   4                                      Give_NUM_Image(i,Color_Times,j);
 562   4                              }
 563   3                      }
 564   2              }       
 565   1      }
 566          //******************************
 567          //*****Logo***FN+Ins    测光    流光，呼吸，常亮，灭
 568          U8 xdata        Logo_Mode_Times;
 569          U8 xdata        Logo_Delay_Times;
 570          U8 xdata Logo_Image[8];
 571          U8 xdata Run_Logo_Image[8];
 572          void Int_Logo_Data(void)
 573          {
 574   1              U8 i;
 575   1              for(i=0; i<8; i++)
 576   1              {
 577   2                      Logo_Image[i]=Run_Logo_Image[i]=0;
 578   2              }
 579   1              if(Logo_Mode_Times==0)
 580   1              {
 581   2                      Run_Logo_Image[7]=0;
 582   2                      Run_Logo_Image[6]=12;
 583   2                      Run_Logo_Image[5]=24;
 584   2                      Run_Logo_Image[4]=36;
 585   2                      Run_Logo_Image[3]=48;
 586   2                      Run_Logo_Image[2]=60;
 587   2                      Run_Logo_Image[1]=72;
 588   2                      Run_Logo_Image[0]=84;
 589   2              }
 590   1              else if(Logo_Mode_Times==2)
 591   1              {
 592   2                      for(i=0; i<8; i++)
 593   2                      {
 594   3                              Logo_Image[i]=250;
 595   3                      }
 596   2              }
 597   1      }
 598          void Display_Logo_Data(void)
 599          {
 600   1              U8 i;
 601   1              if(Logo_Mode_Times==0)
 602   1              {
 603   2                      Logo_Delay_Times++;
 604   2                      if(Logo_Delay_Times<2)
 605   2                              return;
 606   2                      Logo_Delay_Times=0;
C51 COMPILER V9.60.0.0   DISPLAY_LIUGUANG                                                  09/23/2022 11:52:51 PAGE 11  

 607   2                      for(i=0; i<8; i++)
 608   2                      {
 609   3                              Logo_Image[i]=breathe_mode_tab_G[Run_Logo_Image[i]];
 610   3                              Run_Logo_Image[i]++;
 611   3                              if(Run_Logo_Image[i]>239)
 612   3                              Run_Logo_Image[i]=0;
 613   3                      }
 614   2              }
 615   1              else if(Logo_Mode_Times==1)
 616   1              {
 617   2                      Logo_Delay_Times++;
 618   2                      if(Logo_Delay_Times<3)
 619   2                              return;
 620   2                      Logo_Delay_Times=0;
 621   2                      for(i=0; i<8; i++)
 622   2                      {
 623   3                              Logo_Image[i]=breathe_mode_tab3[Run_Logo_Image[0]];
 624   3                      }
 625   2                      Run_Logo_Image[0]++;
 626   2                      if(Run_Logo_Image[0]>147)
 627   2                      Run_Logo_Image[0]=0;
 628   2                      
 629   2              }       
 630   1              //----------------------------------------------------
 631   1                      Image[0][108]=Logo_Image[0]*4+PWM_AddData(0,108);
 632   1                      Image[1][108]=Logo_Image[0]*4+PWM_AddData(1,108);
 633   1                      Image[2][108]=Logo_Image[0]*4+PWM_AddData(2,108);
 634   1              
 635   1                      Image[0][109]=Logo_Image[1]*4+PWM_AddData(0,109);
 636   1                      Image[1][109]=Logo_Image[1]*4+PWM_AddData(1,109);
 637   1                      Image[2][109]=Logo_Image[1]*4+PWM_AddData(2,109);
 638   1              
 639   1                      Image[0][111]=Logo_Image[2]*4+PWM_AddData(0,111);
 640   1                      Image[1][111]=Logo_Image[2]*4+PWM_AddData(1,111);
 641   1                      Image[2][111]=Logo_Image[2]*4+PWM_AddData(2,111);
 642   1              
 643   1                      Image[0][112]=Logo_Image[3]*4+PWM_AddData(0,112);
 644   1                      Image[1][112]=Logo_Image[3]*4+PWM_AddData(1,112);
 645   1                      Image[2][112]=Logo_Image[3]*4+PWM_AddData(2,112);
 646   1              
 647   1                      Image[0][116]=Logo_Image[4]*4+PWM_AddData(0,116);
 648   1                      Image[1][116]=Logo_Image[4]*4+PWM_AddData(1,116);
 649   1                      Image[2][116]=Logo_Image[4]*4+PWM_AddData(2,116);
 650   1              
 651   1                      Image[0][117]=Logo_Image[5]*4+PWM_AddData(0,117);
 652   1                      Image[1][117]=Logo_Image[5]*4+PWM_AddData(1,117);
 653   1                      Image[2][117]=Logo_Image[5]*4+PWM_AddData(2,117);
 654   1              
 655   1                      Image[0][123]=Logo_Image[6]*4+PWM_AddData(0,123);
 656   1                      Image[1][123]=Logo_Image[6]*4+PWM_AddData(1,123);
 657   1                      Image[2][123]=Logo_Image[6]*4+PWM_AddData(2,123);
 658   1              
 659   1                      Image[0][125]=Logo_Image[7]*4+PWM_AddData(0,125);
 660   1                      Image[1][125]=Logo_Image[7]*4+PWM_AddData(1,125);
 661   1                      Image[2][125]=Logo_Image[7]*4+PWM_AddData(2,125);
 662   1              
 663   1      }
 664          
 665          
 666          
 667          
 668          
C51 COMPILER V9.60.0.0   DISPLAY_LIUGUANG                                                  09/23/2022 11:52:51 PAGE 12  

 669          
 670          
 671          
 672          
 673          


MODULE INFORMATION:   STATIC OVERLAYABLE
   CODE SIZE        =   9007    ----
   CONSTANT SIZE    =    646    ----
   XDATA SIZE       =    399      13
   PDATA SIZE       =   ----    ----
   DATA SIZE        =   ----    ----
   IDATA SIZE       =   ----    ----
   BIT SIZE         =   ----    ----
END OF MODULE INFORMATION.


C51 COMPILATION COMPLETE.  0 WARNING(S),  0 ERROR(S)
